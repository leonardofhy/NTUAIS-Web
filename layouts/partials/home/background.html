{{ $disableImageOptimization := .Site.Params.disableImageOptimization | default false }}

{{/* Linear-Inspired Hero Section */}}
<article class="hero-linear">

  {{/* Main content container - LEFT ALIGNED */}}
  <div class="relative z-10 w-full max-w-6xl mx-auto px-6 md:px-12 py-32">

    {{/* Section Badge */}}
    <div class="animate-blur-reveal">
      <span class="section-badge section-badge--blue">AI Safety Research</span>
    </div>

    {{/* Main Headline - LEFT ALIGNED, BRIGHT WHITE */}}
    <h1 class="linear-headline animate-blur-reveal delay-100">
      {{ .Site.Params.Author.name | default .Site.Title }}
    </h1>

    {{/* Tagline with Typewriter Effect */}}
    {{ with .Site.Params.Author.headline }}
    <h2 class="linear-subheadline animate-blur-reveal delay-200 max-w-2xl">
      {{ if $.Site.Params.homepage.typewriter.enabled }}
      <span id="typewriter"></span><span class="cursor">{{ $.Site.Params.homepage.typewriter.cursor | default "|"
        }}</span>
      <script>
        const texts = {{ $.Site.Params.homepage.typewriter.texts }};
        const speed = {{ $.Site.Params.homepage.typewriter.speed | default 50 }};
        let textIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        const typeWriterElement = document.getElementById("typewriter");

        function type() {
          const currentText = texts[textIndex];
          if (isDeleting) {
            typeWriterElement.textContent = currentText.substring(0, charIndex - 1);
            charIndex--;
          } else {
            typeWriterElement.textContent = currentText.substring(0, charIndex + 1);
            charIndex++;
          }

          if (!isDeleting && charIndex === currentText.length) {
            isDeleting = true;
            setTimeout(type, 2500);
          } else if (isDeleting && charIndex === 0) {
            isDeleting = false;
            textIndex = (textIndex + 1) % texts.length;
            setTimeout(type, 400);
          } else {
            setTimeout(type, isDeleting ? speed / 2 : speed);
          }
        }

        document.addEventListener("DOMContentLoaded", function () {
          setTimeout(type, 500);
        });
      </script>
      {{ else }}
      {{ . | markdownify }}
      {{ end }}
    </h2>
    {{ end }}

    {{/* CTA Buttons - Linear Style */}}
    <div class="flex flex-wrap gap-3 animate-blur-reveal delay-300">
      {{ with .Site.Params.homepage.button }}
      {{ if .enable }}
      <a href="{{ .url }}" class="btn-linear btn-linear-primary">
        {{ .text }}
      </a>
      {{ end }}
      {{ end }}
      {{ with .Site.Params.homepage.secondaryButton }}
      {{ if .enable }}
      <a href="{{ .url }}" class="btn-linear btn-linear-secondary">
        {{ .text }}
      </a>
      {{ end }}
      {{ end }}
    </div>

    {{/* Social Links */}}
    {{ with .Site.Params.Author.links }}
    <div class="mt-8 flex flex-wrap gap-4 animate-blur-reveal delay-400">
      {{ range $links := . }}
      {{ range $name, $url := $links }}
      <a class="text-[#9CA3AF] hover:text-white transition-colors duration-200" href="{{ $url }}" target="_blank"
        aria-label="{{ $name | title }}" title="{{ $name | title }}" rel="me noopener noreferrer">
        {{ partial "icon.html" $name }}
      </a>
      {{ end }}
      {{ end }}
    </div>
    {{ end }}

  </div>

</article>

{{/* Feature Cards Section - Bento Style */}}
<section class="content-section py-20">
  <div class="max-w-6xl mx-auto px-6 md:px-12">

    {{/* Section Header */}}
    <div class="mb-12">
      <span class="section-badge section-badge--green">Our Focus</span>
      <h2 class="section-heading">Research areas we explore</h2>
      <p class="section-description">
        Advancing AI safety through rigorous research, education, and community building.
      </p>
    </div>

    {{/* Feature Grid */}}
    <div class="feature-grid">

      <div class="feature-card">
        <h3 class="feature-card-title">Mechanistic Interpretability</h3>
        <p class="feature-card-description">
          Understanding the internal mechanisms of neural networks to make AI systems more transparent and predictable.
        </p>
      </div>

      <div class="feature-card">
        <h3 class="feature-card-title">Alignment Research</h3>
        <p class="feature-card-description">
          Developing techniques to ensure AI systems reliably pursue intended goals without harmful side effects.
        </p>
      </div>

      <div class="feature-card">
        <h3 class="feature-card-title">Education & Workshops</h3>
        <p class="feature-card-description">
          Hosting reading groups, workshops, and summer programs to grow the AI safety research community in Taiwan.
        </p>
      </div>

    </div>

  </div>
</section>

{{/* Upcoming Programs Section - 2026 Highlight */}}
<section class="content-section py-24 relative overflow-hidden" style="background-color: transparent;">
  {{/* Background ambient glow - Using inline styles for assured rendering */}}
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute top-1/2 left-1/4 w-96 h-96 rounded-full"
      style="background-color: rgba(34, 197, 94, 0.05); filter: blur(100px);"></div>
    <div class="absolute top-1/2 right-1/4 w-96 h-96 rounded-full"
      style="background-color: rgba(168, 85, 247, 0.05); filter: blur(100px);"></div>
  </div>

  <div class="max-w-5xl mx-auto px-6 md:px-12 relative z-10">

    {{/* Section Header */}}
    <div class="mb-14 text-center">
      <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">Upcoming 2026 Programs</h2>
      <p class="text-neutral-400 text-lg">
        Applications opening soon for our Spring 2026 tracks.
      </p>
    </div>

    {{/* Programs Grid */}}
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      {{/* BlueDot Fellowship Card */}}
      <div class="relative group">
        {{/* Subtle glow border - Invisible by default, appears on hover */}}
        <div class="absolute -inset-px rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"
          style="background: linear-gradient(to bottom, rgba(34, 197, 94, 0.3), rgba(34, 197, 94, 0.1), transparent);">
        </div>

        <div
          class="relative rounded-2xl p-6 h-full flex flex-col border border-transparent group-hover:border-neutral-800 transition-all duration-300 group-hover:bg-[#0d1117]/80"
          style="background-color: transparent;">
          {{/* Icon + Badge Row */}}
          <div class="flex items-center justify-between mb-5">
            <div class="w-12 h-12 rounded-xl flex items-center justify-center border"
              style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(5, 150, 105, 0.2)); border-color: rgba(34, 197, 94, 0.2);">
              <svg class="w-6 h-6 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 14l9-5-9-5-9 5 9 5z" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                  d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                  d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222" />
              </svg>
            </div>
            <span class="px-3 py-1 text-xs font-medium text-green-400 rounded-full border"
              style="background-color: rgba(34, 197, 94, 0.1); border-color: rgba(34, 197, 94, 0.2);">
              Beginner Friendly
            </span>
          </div>

          {{/* Title */}}
          <h3 class="text-xl font-semibold text-white mb-2">BlueDot Fellowship</h3>

          {{/* Description */}}
          <p class="text-neutral-400 text-sm leading-relaxed flex-grow mb-6">
            A 10-week introductory program for newcomers.
          </p>

          {{/* CTA */}}
          <a href="/events/bluedot-fellowship-2026/"
            class="inline-flex items-center gap-2 text-sm font-medium text-green-400 hover:text-green-300 transition-colors group/link">
            Learn More
            <svg class="w-4 h-4 transition-transform group-hover/link:translate-x-1" fill="none" stroke="currentColor"
              viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </a>
        </div>
      </div>

      {{/* Technical Reading Card */}}
      <div class="relative group">
        {{/* Subtle glow border - Invisible by default, appears on hover */}}
        <div class="absolute -inset-px rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"
          style="background: linear-gradient(to bottom, rgba(168, 85, 247, 0.3), rgba(168, 85, 247, 0.1), transparent);">
        </div>

        <div
          class="relative rounded-2xl p-6 h-full flex flex-col border border-transparent group-hover:border-neutral-800 transition-all duration-300 group-hover:bg-[#0d1117]/80"
          style="background-color: transparent;">
          {{/* Icon + Badge Row */}}
          <div class="flex items-center justify-between mb-5">
            <div class="w-12 h-12 rounded-xl flex items-center justify-center border"
              style="background: linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(124, 58, 237, 0.2)); border-color: rgba(168, 85, 247, 0.2);">
              <svg class="w-6 h-6 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                  d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
              </svg>
            </div>
            <span class="px-3 py-1 text-xs font-medium text-purple-400 rounded-full border"
              style="background-color: rgba(168, 85, 247, 0.1); border-color: rgba(168, 85, 247, 0.2);">
              Advanced
            </span>
          </div>

          {{/* Title */}}
          <h3 class="text-xl font-semibold text-white mb-2">Technical Reading</h3>

          {{/* Description */}}
          <p class="text-neutral-400 text-sm leading-relaxed flex-grow mb-6">
            15-week deep dive into cutting-edge AI safety papers.
          </p>

          {{/* CTA */}}
          <a href="/events/technical-paper-reading-2026/"
            class="inline-flex items-center gap-2 text-sm font-medium text-purple-400 hover:text-purple-300 transition-colors group/link">
            Learn More
            <svg class="w-4 h-4 transition-transform group-hover/link:translate-x-1" fill="none" stroke="currentColor"
              viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </a>
        </div>
      </div>

    </div>

  </div>
</section>

{{/* Sponsors & Collaborators Section */}}
<section class="content-section py-16">
  <div class="max-w-6xl mx-auto px-6 md:px-12">

    {{/* Collaborators */}}
    <div class="mb-16">
      <p class="logo-wall-label">Collaborated with</p>
      <div class="logo-wall">
        <div class="logo-item">
          <img class="logo-img" src="https://img.logo.dev/google.com?token=pk_VJCamVTWQY68zvIPL2HFdA&size=64"
            alt="Google" />
        </div>
        <div class="logo-item">
          <img class="logo-img" src="https://img.logo.dev/meta.com?token=pk_VJCamVTWQY68zvIPL2HFdA&size=64"
            alt="Meta" />
        </div>
        <div class="logo-item">
          <img class="logo-img" src="https://img.logo.dev/openai.com?token=pk_VJCamVTWQY68zvIPL2HFdA&size=64"
            alt="OpenAI" />
        </div>
        <div class="logo-item">
          <img class="logo-img" src="https://img.logo.dev/anthropic.com?token=pk_VJCamVTWQY68zvIPL2HFdA&size=64"
            alt="Anthropic" />
        </div>
        <div class="logo-item">
          <img class="logo-img" src="https://img.logo.dev/ntu.edu.tw?token=pk_VJCamVTWQY68zvIPL2HFdA&size=64"
            alt="National Taiwan University" />
        </div>
      </div>
    </div>

    {{/* Sponsors */}}
    <div>
      <p class="logo-wall-label">Sponsored by</p>
      <div class="logo-wall">
        <div class="logo-item" style="display:flex; justify-content:center; align-items:center;">
          <img class="logo-img" src="/img/members/AICoE_logo.png" alt="Taiwan AI Center of Excellence"
            style="max-height: 48px; width: auto;" />
        </div>
        <div class="logo-item" style="display:flex; justify-content:center; align-items:center;">
          <img class="logo-img" src="/img/members/pathfinder_logo.webp" alt="Pathfinder"
            style="max-height: 48px; width: auto;" />
        </div>
      </div>
    </div>

  </div>
</section>

{{/* Content from _index.md */}}
{{ if .Content }}
<section class="content-section py-16">
  <div class="max-w-4xl mx-auto px-6">
    <div class="prose prose-invert prose-lg mx-auto">
      {{ .Content }}
    </div>
  </div>
</section>
{{ end }}

{{/* Recent articles */}}
<section class="content-section pb-20">
  {{ partial "recent-articles/main.html" . }}
</section>